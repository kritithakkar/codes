#include<iostream>
#include<stdlib.h>
#include<cstring>
#include<stack>
#include<string>
using namespace std;
bool balanced(char *s)
{
    stack<char> s1;
    char x;
    for(int i=0;i<strlen(s);i++)
    {
        if(s[i]=='(' || s[i]== '{' || s[i]=='[')
        {
            s1.push(s[i]);
            continue;
        }
        if(s1.empty())
        return false;
        switch(s[i])
        {
            case ')':
            s1.top();
            s1.pop();
            if(x=='{' || x=='[')
            return false;
            break;
            case '}':
            s1.top();
            s1.pop();
            if(x=='(' || x=='[')
            return false;
            break;
            case ']':
            s1.top();
            s1.pop();
            if(x=='(' || x=='{')
            return false;
            break;
            
        }
    }
    return (s1.empty());
}
int main(int argc,char *argv[])
{
    char *s=argv[1];
    if(balanced(s))
    cout<<"balanced";
    else
    cout<<"not balanced";
    return 0;
}
